<div class="flex h-screen flex-col sm:flex-row">
  <!-- Sidebar -->
  <aside
    class="w-full sm:w-1/4 bg-blue-600 text-white p-4 rounded-lg shadow-md sm:relative sm:h-screen sm:overflow-y-auto">
    <h2 class="text-lg font-semibold mb-6">Dates</h2>

    <!-- Today Button -->
    <div class="mb-4">
      <button class="w-full text-center p-3 rounded-lg font-bold text-white">
        Today: {{ currentDate }}
      </button>
    </div>

    <!-- Search Bar -->
    <div class="mb-4">
      <input type="text" placeholder="Search dates..."
        class="w-full px-3 py-2 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"
        (input)="filterDates($event)" />
    </div>

    <!-- Scrollable Date List -->
    <ul class="max-h-96 overflow-y-auto space-y-2">
      <li *ngIf="filteredDates.length === 0" class="text-center text-gray-200 italic">
        No dates found.
      </li>
      <li *ngFor="let date of filteredDates">
        <button class="w-full text-left p-3 rounded-lg transition-all duration-300"
          [class.bg-white]="selectedDate === date" [class.text-blue-700]="selectedDate === date"
          [class.bg-blue-600]="selectedDate !== date" [class.hover:bg-blue-500]="selectedDate !== date"
          (click)="showDetails(date)">
          {{ date }}
        </button>
      </li>
    </ul>
  </aside>

  <!-- Main Content -->
  <main class="flex-1 p-6 sm:p-8">
    <header class="text-center mb-10">
      <!-- Logo and Title -->
      <div class="flex justify-center items-center mb-4">
        <img src="laundry_logo.png" alt="Laundry Logo" class="h-12 sm:h-16 mr-4" />
        <h1 class="text-3xl sm:text-4xl font-bold text-blue-700">Laundry History</h1>
      </div>
    </header>

    <!-- Details Section -->
    <div *ngIf="selectedDate">
      <h2 class="text-2xl text-center font-bold text-gray-800 mb-4">
        Job Orders for {{ selectedDate }}
      </h2>

      <!-- Job Orders Table -->
      <div class="bg-white p-4 rounded-lg shadow">
        <!-- Filter for Table -->
        <div class="mb-4">
          <input type="text" placeholder="Search job orders..."
            class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
            (input)="filterTable($event)" />
        </div>

        <div class="overflow-x-auto">
          <!-- If No Job Orders Found -->
          <div *ngIf="paginatedOrders.length === 0" class="text-center text-gray-500 italic py-4">
            No job orders found.
          </div>

          <!-- Job Orders Table -->
          <table *ngIf="paginatedOrders.length > 0" class="w-full border-collapse border border-gray-300">
            <thead>
              <tr class="bg-gray-100">
                <th class="border border-gray-300 p-2 text-left">Slip Number</th>
                <th class="border border-gray-300 p-2 text-left">Status</th>
                <th class="border border-gray-300 p-2 text-left">Created At</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let order of paginatedOrders">
                <td class="border border-gray-300 p-2">SLIP {{ order.slipNumber }}</td>
                <td class="border border-gray-300 p-2">{{ order.status || 'Pending' }}</td>
                <td class="border border-gray-300 p-2">{{ order.createdAt | date: 'short' }}</td>
              </tr>

              <!-- Empty Rows to Maintain 8 Rows -->
              <tr *ngFor="let i of [].constructor(8 - paginatedOrders.length)">
                <td colspan="4" class="border border-gray-300 p-2">&nbsp;</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Pagination -->
        <div class="flex justify-end mt-4 space-x-2">
          <button class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-300"
            [disabled]="currentPage === 1" (click)="goToPreviousPage()">
            Previous
          </button>
          <span class="px-4 py-2 bg-gray-100 text-gray-600 rounded">
            Page {{ currentPage }} of {{ totalPages }}
          </span>
          <button class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-300"
            [disabled]="currentPage === totalPages" (click)="goToNextPage()">
            Next
          </button>
        </div>
      </div>
    </div>
  </main>
</div>
